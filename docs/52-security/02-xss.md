# XSS

XSS 全称 Cross Site Scripting，中文叫做跨站脚本攻击，这个名称是历史原因，理解为网页脚本注入攻击即可。

XSS 基本流程是一样的，都是下面这样的流程：

利用网站漏洞，形成带恶意脚本的新页面；
新页面触达其他用户；
恶意脚本执行；
关于 XSS，一篇比较好的文章是 前端安全系列（一）：如何防止 XSS 攻击？ (opens new window)，讲的比较到位了。

我只做一个简单的总结：

反射：不存储，但是能根据 URL 请求实时渲染；
存储：数据先存在服务器，然后再提取出来；

分类 恶意代码注入时机 恶意数据是否存储

反射型 Server 否
存储型 Server 是
DOM Based Client -
所谓反射型，存储型，是恶意脚本来源的不同，存储型就是多了一个中间存储的过程；

所谓 DOM 型，不过是恶意代码注入的环节在客户端，由前端代码产生，与是否存储无关。DOM 型既可能是反射型，也可能是存储型。

为什么说存储型的危害比较大：对于存储型 XSS，在正常业务逻辑，正常的页面访问行为都可能发生，并不需要攻击者发送链接给用户，诱导用户点击链接

XSS 的防范：概括来说就是 输入过滤，输出转义。谨慎使用 innerHTML 和 location.href 等内容，确保数据可信。可以采用 HttpOnly 和 CSP 等。
